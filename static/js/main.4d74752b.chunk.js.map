{"version":3,"sources":["constants.js","functions.js","theme.js","components/aside/Aside.css.js","components/aside/Aside.jsx","routes.js","components/header/Header.jsx","components/icon/MUIIcon.jsx","components/footer/Footer.jsx","components/player/Player.css.js","components/player/Player.jsx","localforage.js","components/playlist/PlayListContainer.jsx","components/playlist/PlayList.jsx","pages/playlistform/playlistform.css.js","pages/playlistform/LsPlaylist.jsx","pages/playlistform/LfForm.jsx","pages/playlistform/JsonViewer.jsx","hooks/customHooks.js","pages/playlistform/JsonImport.jsx","pages/playlistform/LfPlaylist.jsx","pages/playlistform/PlaylistEditor.jsx","pages/playlistform/PlaylistDialogControls.jsx","pages/playlistform/PlaylistDialog.css.js","pages/playlistform/PlaylistDialog.jsx","components/stepper/PlayerStepper.css.js","components/stepper/StepIcon.jsx","components/stepper/PlayerStepper.jsx","components/comment/Comment.jsx","App.css.js","components/submenu/Submenu.jsx","components/alert/AlertDialog.jsx","components/table/actions/ActionsHeaders.jsx","components/table/actions/ActionsCells.jsx","LastPageContext.js","components/table/MUITable.jsx","components/table/MUITable.css.js","pages/about/About.css.js","pages/about/About.jsx","pages/main/Main.jsx","pages/404/NotFound.jsx","App.jsx","serviceWorker.js","index.js"],"names":["APP_ROOT","window","location","origin","match","PLAYLIST_TYPE","PLAYLISTS","SHORT","LONG","MARGINAUTO","marginLeft","marginRight","MARGINRIGHT","PLAYER_STEPS","PLAYER_STEPS_ICONS","ALERT_TYPES","isLong","url","indexOf","isShort","isYoutubeUrl","isMaybeYoutubeId","length","strReplace","source","pattern","fragment","split","join","extractYoutubeId","result","truncAdditionalParams","getPlaylists","lists","map","item","ind","key","href","text","type","getClearData","data","el","getFilteredData","Array","isArray","filter","isValidUrl","setLocalPlaylists","localStorage","setItem","JSON","stringify","list","err","message","RegExp","test","getTableActions","onDelete","onEdit","onExport","actions","icon","onCallback","isData","isValidIndex","index","testedArray","getActiveStep","playlist","playerActive","getNewKey","Date","theme","createMuiTheme","palette","primary","main","light","contrastText","secondary","blueGrey","error","deepOrange","contrastThreshold","tonalOffset","fontFamily","typography","h1","fontSize","color","indigo","fontWeight","h2","padding","useStyles","makeStyles","drawer","width","spacing","textAlign","display","flexDirection","alignItems","fabCenter","margin","title","Aside","isDrawerOpen","onClose","classes","Drawer","className","open","Typography","variant","Fab","size","onClick","ROUTES","Header","callback","switchPlayerActive","AppBar","position","Toolbar","spaceBetween","classNames","paperFlexFull","fabParent","submenuItems","withNavLink","switchIcon","prompt","ml","aria-label","link","paperFlex","to","style","Hidden","xsDown","MUIIcon","iconSize","Menu","Home","Settings","Info","MusicOff","PlaylistPlay","PlaylistAdd","Close","Pets","Delete","Edit","PlayArrow","Done","Storage","ListAlt","Footer","setIsDrawerOpen","iframe","minHeight","Player","enablePlayer","ids","first","rest","youSrc","src","id","localforage","driver","name","version","storeName","description","PlayListContainer","setContent","useState","setError","useEffect","a","async","currentKey","lf","getItem","then","catch","getLfData","axios","get","res","getData","PlayList","paddingTop","marginBottom","sourceNumber","textForms","temporaryNumber","Math","abs","getTextForm","columns","rowsLimit","maxWidth","textField","lfForm","backgroundColor","lsForm","buttonGroup","marginTop","wrapper","overflowY","label","borderRadius","height","justifyContent","flexShrink","cursor","btnGroup","isError","errors","fieldName","LsPlaylist","setLists","edited","setEdited","setTitle","setHref","isSubmitting","setIsSubmitting","setErrors","changeList","resetState","newList","onFormSubmit","evt","preventDefault","hrefError","trim","titleError","formValidate","errorMessage","Object","keys","onSubmit","TextField","value","onChange","target","autoFocus","fullWidth","Button","Divider","LfForm","track","setTrack","onSaveTrack","methods","useForm","handleSubmit","register","component","defaultValue","inputRef","required","ButtonGroup","JsonViewer","content","setShowJson","ref","useRef","node","contentRange","document","createRange","selectNodeContents","contentSelection","getSelection","removeAllRanges","addRange","selectContent","current","useDB","needGet","setData","useCallback","tmp","resetData","deletePlaylist","removeItem","lfdata","exportToLf","newPlaylist","clearStorage","clear","getDbContent","reader","FileReader","JsonImport","setImportJson","status","setStatus","jsonContent","setJsonContent","onLoad","fileContent","parse","addEventListener","removeEventListener","curFiles","files","file","readAsText","accept","visibility","TracksLimit","tableTitle","forceFirst","hoverField","LfPlaylist","playlistKey","setPlaylistKey","showJson","importJson","onSaveTitle","find","renamePlaylist","element","addPlaylist","IconButton","Add","changedContent","push","flexWrap","PlaylistSwitcher","actionsDisable","disabledActions","disabledCondition","condition","withRouter","history","onCreate","onCreateJson","setAlert","paper","overflow","getJsonContent","PlaylistDialog","alert","redirect","setRedirect","controlProps","newLists","splice","anchor","Paper","PlaylistEditor","useStepperStyles","root","backButton","instructions","rootStep","zIndex","active","boxShadow","completed","StepIcon","stepIcon","clsx","PlayerStepper","steps","activeStep","setPlaylist","setPlayerActive","showSubmenu","Stepper","alternativeLabel","step","Step","changeStep","StepLabel","StepIconComponent","Comment","mainColor","app","paperWhite","flexGrow","textDecoration","linkDark","mLeft","submenu","courses","courseBtn","lessonBtn","card","alignSelf","breakpoints","down","avatar","wordBreak","Submenu","showButton","anchorEl","setAnchorEl","convertedItems","handleClose","aria-controls","aria-haspopup","event","currentTarget","disabled","keepMounted","Boolean","MenuItem","AlertDialog","onAlertClose","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","ActionsHeaders","TableCell","ActionsCells","rowInd","toLowerCase","onButtonClick","React","createContext","getHoverTitle","row","MUITable","tableWrapper","maxHeight","page","setPage","rowsPerPage","setRowsPerPage","useContext","LastPageContext","lastPage","setLastPage","startPage","ceil","overflowX","Table","stickyHeader","TableHead","TableRow","column","TableBody","slice","fieldCondition","fieldValue","getDisabled","rowIndex","getCell","TablePagination","selectRoot","rowsPerPageOptions","labelRowsPerPage","count","onChangePage","newPage","onChangeRowsPerPage","part","drawerPaper","About","Grid","container","xs","Main","changePlaylist","setIsStepperSubmenu","NotFound","xmlns","viewBox","fill","d","isStepperSubmenu","lfData","storageData","getLocalPlaylists","parseInt","mainProps","ThemeProvider","Provider","CssBaseline","Container","path","exact","render","hostname","ReactDOM","basename","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.4d74752b.chunk.js","sourcesContent":["const url = window.location.origin;\nexport const APP_ROOT = ((url.match(/github\\.io/gi)) ? '/playlist/' : '');\n\nexport const PLAYLIST_TYPE = {DEFAULT: 'Default', JSON: 'JSON', LF: 'IndexedDB'};\n\nexport const PLAYLISTS = [\n    {\n        'key': 'id-1',\n        'title': 'Santiano',\n        'href': APP_ROOT + 'data/playlistSantiano.json',\n        'type': PLAYLIST_TYPE.DEFAULT,\n    },\n    {\n        'key': 'id-2',\n        'title': 'Zaz',\n        'href': APP_ROOT + 'data/playlistZaz.json',\n        'type': PLAYLIST_TYPE.DEFAULT,\n    }\n];\n\nexport const YOUTUBE_ID_LENGTH = 11;\nexport const SHORT = 'https://youtu.be/';\nexport const LONG = 'https://www.youtube.com/watch?v=';\nexport const YOUTUBE_EMBED = 'https://www.youtube.com/embed/';\n\nexport const KEYCODES = {\n    ENTER: 13,\n    ESC: 27\n};\n\nexport const LOCAL_STORAGE = 'playlists';\n\nexport const ROWS_LIMIT = 10;\n\n/**\n * Пока непонятно, почему в новой версии какие-то проблемы с применением некоторых стилей.\n * Поэтому- пока странное ниже... Кажется, в этой версии MUI не ко всем элементам можно применять классы.\n * В примерах стилизуют через родительские селекторы. Баг или фича?\n */\nexport const MARGINAUTO = {marginLeft: 'auto', marginRight: '10px'};\nexport const MARGINRIGHT = { marginRight: '10px'};\n\nexport const PLAYER_STEPS =  ['Выбрать плейлист', 'Включить плеер', 'Запустить проигрывание плейлиста'];\nexport const PLAYER_STEPS_ICONS = ['SelectList', 'On', 'Play'];\n\nexport const LFSTORE = 'playlists';\n\nexport const LIST_KEY = 'list';\n\nexport const ALERT_TYPES = {\n    LF: 'LF',\n    LS: 'LS'\n};","import {LOCAL_STORAGE, LONG, PLAYLIST_TYPE, PLAYLISTS, SHORT, YOUTUBE_ID_LENGTH} from './constants';\n\nconst isLong = (url) => {\n    return (url.indexOf(LONG) !== -1);\n};\n\nconst isShort = (url) => {\n    return (url.indexOf(SHORT) !== -1);\n};\n\nexport const isYoutubeUrl = (url) => (isLong(url)) || isShort(url);\n\nexport const isMaybeYoutubeId = (url) => (url.length === YOUTUBE_ID_LENGTH);\n\nconst truncAdditionalParams = (url) => (url.split('&')[0]);\n\nconst strReplace = (source, pattern, fragment = '') => source.split(pattern).join(fragment);\n\nexport const extractYoutubeId = (url) => {\n    let result = truncAdditionalParams(url);\n    result = isLong(url) ? strReplace(result, LONG) : result;\n    result = isShort(url) ? strReplace(result, SHORT) : result;\n    return isMaybeYoutubeId(result) ? result : '';\n};\n\nexport const getPlaylists = (lists) => (\n    lists.map((item, ind) => ({\n        key: ind,\n        href: ind,\n        text: item['title'],\n        type: item['type']\n    })));\n\nexport const getTextForm = (sourceNumber, textForms) => {\n    sourceNumber = Math.abs(sourceNumber) % 100;\n    const temporaryNumber = sourceNumber % 10;\n    if (sourceNumber > 10 && sourceNumber < 20) {\n        return textForms[2];\n    }\n    if (temporaryNumber > 1 && temporaryNumber < 5) {\n        return textForms[1];\n    }\n    if (temporaryNumber === 1) {\n        return textForms[0];\n    }\n    return textForms[2];\n};\n\nexport const getClearData = (data) => data.map(el => {\n    el['link'] = el['link'] ? extractYoutubeId(el['link']) : '';\n    return el;\n});\n\nexport const getFilteredData = (data) => (\n    Array.isArray(data) ? data.filter(item => (item['title'] && item['link']\n        && isValidUrl(item['link']) && isYoutubeUrl(item['link']))) : []\n);\n\nexport const getLocalPlaylists = () => {\n    const storageData = localStorage.getItem(LOCAL_STORAGE) ? JSON.parse(localStorage.getItem(LOCAL_STORAGE)) : [];\n    return [...PLAYLISTS, ...storageData];\n};\n\nexport const setLocalPlaylists = (lists) => {\n    let result = null;\n    try {\n        localStorage.setItem(LOCAL_STORAGE, JSON.stringify(lists.filter(list => list['type'] === PLAYLIST_TYPE.JSON)));\n    } catch (err) {\n        result = err.message;\n    }\n    return result;\n};\n\nexport const isValidUrl = (url) => {\n    const pattern = new RegExp('^(https:\\\\/\\\\/)?' + // protocol\n        '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.?)+[a-z]{2,}|' + // domain name\n        '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))' + // ip (v4) address\n        '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*' + //port\n        '(\\\\?[;&amp;a-z\\\\d%_.~+=-]*)?' + // query string\n        '(\\\\#[-a-z\\\\d_]*)?$', 'i');\n    return pattern.test(url);\n};\n\nexport const getTableActions = (onDelete = null, onEdit = null, onExport = null) => {\n    const actions = {};\n    if (onDelete) {\n        actions['delete'] = {'title': 'удалить', icon: 'Delete', onCallback: onDelete};\n    }\n    if (onEdit) {\n        actions['edit'] = {'title': 'изменить', icon: 'Edit', onCallback: onEdit};\n    }\n    if (onExport) {\n        actions['export'] = {'title': 'экспорт в IndexedDB', icon: 'Storage', onCallback: onExport};\n    }\n    return actions;\n};\n\nexport const isData = (data) => (data && Array.isArray(data) && data.length > 0);\n\nexport const isValidIndex = (index, testedArray) => (((index >= 0) && (index < testedArray.length)));\n\nexport const getActiveStep = (playlist, playerActive) => (\n    playerActive && playlist ? 2 : playlist ? 1 : 0\n);\n\nexport const getNewKey = () => ('id-' + (+new Date()));","import {createMuiTheme} from '@material-ui/core/styles';\n\nimport {blueGrey, deepOrange, indigo} from '@material-ui/core/colors';\n\nexport const DEFAULT_COLOR = 'rgba(89, 105, 141, 0.3)';\nexport const MDB_COLOR = '#59698d';\n\nexport const theme = createMuiTheme({\n\n    palette: {\n        primary: {\n            main: MDB_COLOR,\n            light: DEFAULT_COLOR,\n            contrastText: 'white'\n        },\n        secondary: {\n            main: blueGrey[200],\n        },\n        error: deepOrange,\n        contrastThreshold: 3,\n        tonalOffset: 0.2,\n    },\n\n    fontFamily: [\n        '-apple-system',\n        'BlinkMacSystemFont',\n        'Arial',\n        'sans-serif'\n    ].join(','),\n    typography: {\n        h1: {\n            fontSize: 24,\n            color: indigo[500],\n            fontWeight: 'bold'\n        },\n        h2: {\n            fontSize: 20,\n            color: indigo[500],\n            fontWeight: 'bold',\n            padding: '0.5em'\n        }\n    }\n});\n\n\n","import {makeStyles} from '@material-ui/core/styles';\nimport {theme} from '../../theme';\n\nexport const useStyles = makeStyles({\n    drawer: {\n        width: '320px',\n        padding: theme.spacing(1),\n        textAlign: 'center',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center'\n    },\n    fabCenter: {\n        margin: '20px auto 0'\n    },\n    title: {\n        padding: '20px'\n    }\n});","import React from 'react';\nimport {Drawer, Fab, Typography} from '@material-ui/core';\n\nimport {PlayList, MUIIcon} from '../components';\nimport {isData} from '../../functions';\nimport {useStyles} from './Aside.css';\n\nexport const Aside = ({data = [], isDrawerOpen = false, onClose, playlist = null, playerActive = false}) => {\n    const classes = useStyles();\n\n    return (\n        <Drawer className={classes.drawer} open={isDrawerOpen} onClose={onClose}>\n            {playlist && isData(data) ?\n                <PlayList title={playlist.title} data={data} playerActive={playerActive}/> :\n                <Typography className={classes.title} variant={'h6'}>Нет активного плейлиста</Typography>\n            }\n            <Fab className={classes.fabCenter} size={'small'} color='primary' onClick={onClose}>\n                <MUIIcon icon={'Close'}/>\n            </Fab>\n        </Drawer>\n    );\n};","export const ROUTES = {\n MAIN: '/',\n EDIT: '/playlists',\n ABOUT: '/about'\n};","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport classNames from 'classnames';\nimport {AppBar, Fab, Hidden, Toolbar, Typography} from '@material-ui/core';\n\nimport {Submenu, MUIIcon} from '../components';\nimport {getPlaylists} from '../../functions';\nimport {MARGINAUTO} from '../../constants';\nimport {ROUTES} from '../../routes';\n\nexport const Header = ({classes, lists = [], callback, playlist, playerActive, switchPlayerActive}) => (\n    <AppBar position='static'>\n        <Toolbar className={classes.spaceBetween}>\n            <div className={classNames(classes.paperFlexFull, classes.fabParent)}>\n\n                <Submenu submenuItems={getPlaylists(lists)} withNavLink={false} callback={callback}\n                         switchIcon={'SelectList'} prompt={'Выбор из списка плейлистов'}/>\n                <Typography className={classes.ml}>\n                    {playlist ? playlist.title : 'плейлист не выбран'}\n                </Typography>\n                {playlist ?\n                    <Fab color='primary' aria-label='playlist content' size='small'\n                         onClick={switchPlayerActive} title={playerActive ? 'выключить плеер' : 'включить плеер'}>\n                        <MUIIcon icon={playerActive ? 'Off' : 'On'} size={'large'}/>\n                    </Fab>\n                    : null\n                }\n\n                <Link className={classNames(classes.link, classes.paperFlex)}\n                      to={ROUTES.MAIN} style={MARGINAUTO} title={'На главную'}>\n                    <Hidden xsDown>\n                        <Typography style={{marginRight: '7px'}} variant='h6'>playlist</Typography>\n                    </Hidden>\n                    <MUIIcon icon={'Paw'} size={'large'}/>\n                </Link>\n            </div>\n        </Toolbar>\n    </AppBar>\n);\n\n","import React from 'react';\nimport {\n    Home, Settings, Info, MoreVert as More, HelpOutline as Help, Menu,\n    MusicNote as MusicOn, MusicOff, QueueMusic as List, Close, PlaylistPlay, PlaylistAdd, Pets,\n    MenuOpen as SelectList, Delete, Edit, PlayArrow, Done, Storage, ListAlt,\n    FormatIndentIncrease as ToJson, FormatIndentDecrease as FromJson\n} from '@material-ui/icons';\n\n\nexport const MUIIcon = ({icon = '', iconSize = 'small', color = 'inherit'}) => {\n    switch (icon) {\n        case 'Menu':\n            return <Menu fontSize={iconSize} color={color}/>;\n        case 'Home':\n            return <Home fontSize={iconSize} color={color}/>;\n        case 'Settings':\n            return <Settings fontSize={iconSize} color={color}/>;\n        case 'Info':\n            return <Info fontSize={iconSize} color={color}/>;\n        case 'More':\n            return <More fontSize={iconSize} color={color}/>;\n        case 'Help':\n            return <Help fontSize={iconSize} color={color}/>;\n        case 'On':\n            return <MusicOn fontSize={iconSize} color={color}/>;\n        case 'Off':\n            return <MusicOff fontSize={iconSize} color={color}/>;\n        case 'Playlist':\n            return <PlaylistPlay fontSize={iconSize} color={color}/>;\n        case 'PlaylistAdd':\n            return <PlaylistAdd fontSize={iconSize} color={color}/>;\n        case 'List':\n            return <List fontSize={iconSize} color={color}/>;\n        case 'Close':\n            return <Close fontSize={iconSize} color={color}/>;\n        case 'Paw':\n            return <Pets fontSize={iconSize} color={color}/>;\n        case 'SelectList':\n            return <SelectList fontSize={iconSize} color={color}/>;\n        case 'Delete':\n            return <Delete fontSize={iconSize} color={color}/>;\n        case 'Edit':\n            return <Edit fontSize={iconSize} color={color}/>;\n        case 'Play':\n            return <PlayArrow fontSize={iconSize} color={color}/>;\n        case 'Done':\n            return <Done fontSize={iconSize} color={color}/>;\n        case 'Storage':\n            return <Storage fontSize={iconSize} color={color}/>;\n        case 'ListAlt':\n            return <ListAlt fontSize={iconSize} color={color}/>;\n        case 'FromJson':\n            return <FromJson fontSize={iconSize} color={color}/>;\n        case 'ToJson':\n            return <ToJson fontSize={iconSize} color={color}/>;\n        default:\n    }\n    return null;\n};","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport classNames from 'classnames';\n\nimport {AppBar, Fab, Toolbar, Typography} from '@material-ui/core';\nimport {MUIIcon} from '../icon/MUIIcon';\nimport {MARGINAUTO, MARGINRIGHT} from '../../constants';\n\nexport const Footer = ({classes, setIsDrawerOpen}) => (\n    <AppBar position='static'>\n        <Toolbar className={classes.spaceBetween}>\n            <div className={classNames(classes.paperFlexFull, classes.fabParent)}>\n                <Link to={'/'}>\n                    <Fab color='primary' aria-label='home' size='small'\n                         title='На главную'>\n                        <MUIIcon icon={'Home'}/>\n                    </Fab>\n                </Link>\n                <Fab color='primary' aria-label='playlist content' size='small'\n                     onClick={() => setIsDrawerOpen(true)}\n                     title='Просмотр содержимого плейлиста (список)'>\n                    <MUIIcon icon={'List'}/>\n                </Fab>\n                <Link to={'/playlists'}>\n                    <Fab color='primary' aria-label='add playlist' size='small' style={MARGINRIGHT}\n                         title='Редактирование списков плейлистов'>\n                        <MUIIcon icon={'PlaylistAdd'}/>\n                    </Fab>\n                </Link>\n\n            </div>\n            <Typography style={MARGINAUTO} variant={'body2'}>2019</Typography>\n            <Link to={'/about'}>\n                <Fab color='primary' aria-label='add playlist' size='small' style={MARGINRIGHT}\n                     title='О программе'>\n                    <MUIIcon icon={'Help'}/>\n                </Fab>\n            </Link>\n    </Toolbar>\n    </AppBar>\n);\n","import {makeStyles} from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles({\n    iframe: {\n        minHeight: '300px',\n        width: '100%'\n    }\n});","import React from 'react';\n\nimport {useStyles} from './Player.css.js';\nimport {YOUTUBE_EMBED} from '../../constants';\nimport {isData} from '../../functions';\n\nexport const Player = ({data = null, playerActive = false}) => {\n    const classes = useStyles();\n    const enablePlayer = playerActive && isData(data);\n    const ids = data.map(item => item['link']);\n    const [first, ...rest] = ids;\n    const youtubeList = rest.length > 0 ? rest.join(',') : '';\n\n    const youSrc = YOUTUBE_EMBED + first + '?playlist=' + youtubeList;\n    return (\n        <>\n            {enablePlayer ?\n                <iframe className={classes.iframe} src={youSrc} title={first} id={first}></iframe> :\n                null\n            }\n        </>\n    );\n};\n","import * as localforage from 'localforage';\nimport {LFSTORE} from './constants';\n\nlocalforage.config({\n    driver      : localforage.INDEXEDDB,\n    name        : 'Playlist',\n    version     : 1.0,\n    storeName   : LFSTORE,\n    description : 'Список плейлистов'\n});\nexport {localforage};","import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\n\nimport {getClearData, getFilteredData} from '../../functions';\nimport {PLAYLIST_TYPE} from '../../constants';\nimport {localforage as lf} from '../../localforage';\n\nexport const PlayListContainer = ({playlist, setContent}) => {\n    const [error, setError] = useState(null);\n\n    useEffect(() => {\n        const getData = async (playlist) => {\n            const res = await axios.get(playlist['href']);\n            try {\n                setContent(res ? getClearData(getFilteredData(res.data)) : []);\n            } catch (err) {\n                setError(err.message);\n            }\n        };\n\n        const getLfData = async (playlist) => {\n            const currentKey = playlist['href'];\n            if (currentKey) {\n                lf.getItem(currentKey).then(el => {\n                    if (el && Array.isArray(el)) {\n                        setContent([...el]);\n                    }\n                }).catch(err => setError(err.message));\n            }\n        };\n\n        if (playlist) {\n            (playlist.type === PLAYLIST_TYPE.LF) ? getLfData(playlist) : getData(playlist);\n        }\n\n    }, [playlist, setContent]);\n\n    return (\n        <>\n            <p className='text-warning'>{error}</p>\n        </>\n    );\n};\n","import React from 'react';\nimport {Typography} from '@material-ui/core';\n\nimport {MUITable} from '../components';\nimport {getTextForm} from '../../functions';\nimport {ROWS_LIMIT} from '../../constants';\n\nexport const PlayList = ({title, data}) => (\n    <>\n        <div style={{paddingTop: '20px'}}>\n            <Typography style={{marginBottom: '10px'}} variant={'h6'}>\n                {title} ({data.length} {getTextForm(data.length, ['трек', 'трека', 'треков'])})\n            </Typography>\n            <MUITable data={data} columns={['id', 'title']} rowsLimit={ROWS_LIMIT} size={'small'}\n                      maxWidth={'300px'}/>\n        </div>\n    </>\n);","import {makeStyles} from '@material-ui/core/styles';\nimport {MDB_COLOR, theme} from '../../theme';\n\nexport const useStyles = makeStyles({\n    textField: {\n        color: 'white',\n        '&  input': {\n            color: 'white'\n        },\n        '& label': {\n            color: 'white'\n        }\n    },\n    lfForm: {\n        backgroundColor: MDB_COLOR,\n        color: 'white',\n        padding: '24px'\n    },\n    lsForm: {\n        padding: '24px'\n    },\n    buttonGroup: {\n        marginTop: '10px'\n    },\n    wrapper: {\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        overflowY: 'auto',\n        padding: theme.spacing(2)\n    },\n    label: {\n        backgroundColor: theme.palette.primary.main,\n        color: 'white',\n        borderRadius: '5px',\n        height: '1em',\n        display: 'flex',\n        justifyContent: 'center',\n        textAlign: 'center',\n        alignItems: 'center',\n        flexShrink: 0,\n        padding: '20px 10px',\n        cursor: 'pointer',\n        '&:hover': {\n            backgroundColor: theme.palette.primary.light,\n            color: 'bleck'\n        }\n    },\n    prompt: {\n        marginTop: theme.spacing(1),\n        marginBottom: theme.spacing(2)\n    },\n    btnGroup: {\n        marginTop: theme.spacing(2),\n        marginBottom: theme.spacing(2)\n    }\n});","import React, {useState, useEffect} from 'react';\nimport {Button, Divider, TextField, Typography} from '@material-ui/core';\n\nimport {getNewKey, isValidUrl, setLocalPlaylists} from '../../functions';\nimport {PLAYLIST_TYPE} from '../../constants';\nimport {useStyles} from './playlistform.css';\n\nconst isFormValid = (err) => (!err || !(err['href'] || err['title']));\n\nconst isError = (errors, fieldName) => (errors && errors[fieldName]);\n\n\nconst LsPlaylist = ({lists, setLists, edited = null, setEdited}) => {\n    const [title, setTitle] = useState('');\n    const [href, setHref] = useState('');\n    const [isSubmitting, setIsSubmitting] = useState(false);\n    const [errors, setErrors] = useState(null);\n    const classes = useStyles();\n\n    useEffect(() => {\n        if (isFormValid(errors) && isSubmitting) {\n            changeList();\n            resetState();\n        }\n    });\n\n    useEffect(() => {\n        if (!isSubmitting) {\n            setTitle(edited ? (edited['title'] || '') : '');\n            setHref(edited ? (edited['href'] || '') : '');\n        }\n    }, [edited, isSubmitting]);\n\n\n    const resetState = () => {\n        setTitle('');\n        setHref('');\n        setIsSubmitting(false);\n        setEdited(null);\n    };\n\n    const changeList = () => {\n        const newList = edited  && edited.index !== -1 ? lists.map(\n            (item, ind) => (ind === edited.index ? {\n                ...item,\n                href: href,\n                title: title\n            } : item)) :\n            [...lists, {\n                title,\n                href,\n                type: PLAYLIST_TYPE.JSON,\n                key: getNewKey()\n\n            }];\n        setLists(newList);\n        setLocalPlaylists(newList);\n    };\n\n    const formValidate = () => {\n        const hrefError = ((href.trim() === '') || !isValidUrl(href)) ? 'Ссылка должна быть заполнена и быть корректной.' : null;\n        const titleError = (title.trim() === '') ? 'Название должно быть заполнено' : null;\n        setErrors({\n            title: titleError,\n            href: hrefError\n        });\n    };\n\n    const onFormSubmit = (evt) => {\n        evt.preventDefault();\n        setIsSubmitting(true);\n        formValidate();\n    };\n\n    const onChangeTitle = (evt) => (setTitle(evt.target.value));\n\n    const onChangeHref = (evt) => (setHref(evt.target.value));\n\n    const errorMessage = errors ? Object.keys(errors).map(key => errors[key]).join(', ') : null;\n\n    return (\n\n        <form className={classes.lsForm} onSubmit={onFormSubmit}>\n            <Typography variant={'caption'}>\n                Для дополнения списка плейлистов нужно добавить название плейлиста и ссылку на описание\n                плейлиста (https://ИмяРесурса или data/Файл.json)\n                Содержимое файла с описанием плейлиста представляет собой массив объектов с полями 'title' и\n                'link' в формате json.\n                Поле 'link' - ссылка на видео youtube, полученная через функцию 'ПОДЕЛИТЬСЯ'\n            </Typography>\n            <TextField value={title} onChange={onChangeTitle} error={!!isError(errors, 'title')}\n                       autoFocus margin='dense' id='title' label='Название плейлиста' type='text' fullWidth/>\n\n            <TextField value={href} onChange={onChangeHref} error={!!isError(errors, 'href')}\n                       autoFocus margin='dense' id='href' label='Ссылка на файл плейлиста' type='text'\n                       fullWidth/>\n\n            <Button onClick={resetState} title={'Отмена незавершенного действия'}>Отмена</Button>\n            <Button type='submit' style={{margin: '10px auto'}} variant='contained' color='primary' size='small'\n                    onClick={onFormSubmit} title={'Сохранить плейлист'}>\n                {'сохранить Json-плейлист'}\n            </Button>\n            <Divider/>\n            <Typography variant={'caption'} color={'error'}>{errorMessage}</Typography>\n        </form>\n    );\n};\n\nexport default LsPlaylist;","import React, {useState} from 'react';\nimport {useForm} from 'react-hook-form';\nimport {Button, TextField, Typography} from '@material-ui/core';\nimport ButtonGroup from '@material-ui/core/ButtonGroup';\nimport {extractYoutubeId, isMaybeYoutubeId, isValidUrl, isYoutubeUrl} from '../../functions';\nimport {useStyles} from './playlistform.css';\n\nconst isError = (errors, fieldName) => (errors && errors[fieldName]);\n\nconst LfForm = ({track = null, setTrack, onSaveTrack}) => {\n    const classes = useStyles();\n    const [error, setError] = useState(false);\n    const methods = useForm();\n    const {handleSubmit, register, errors} = methods;\n\n    const onSubmit = data => {\n        const url = (data && data['link']) || '';\n        if ((isValidUrl(url) && isYoutubeUrl(url)) || isMaybeYoutubeId(url)) {\n            onSaveTrack(data['title'], extractYoutubeId(url), track['ind']);\n        } else {\n            setError(true);\n        }\n    };\n\n    return (\n        <form className={classes.lfForm} onSubmit={handleSubmit(onSubmit)}>\n            <Typography variant='h6' component='p'>\n                {track['ind'] >= 0 ? 'Изменение трека' : 'Добавление трека'}\n            </Typography>\n            <TextField className={classes.textField} defaultValue={track ? track['title'] || '' : ''} variant='filled'\n                       name='title' inputRef={register({required: true})} error={!!isError(errors, 'title')}\n                       margin='dense' id='title' label='Название трека' type='text' fullWidth autoFocus/>\n            <TextField className={classes.textField} defaultValue={track ? track['link'] || '' : ''} variant='filled'\n                       name='link' inputRef={register({required: true})} error={!!isError(errors, 'link')}\n                       margin='dense' id='link' label='Ссылка youtube' type='text' fullWidth/>\n\n            <Typography variant='caption' component='p' color={error ? 'error' : 'inherit'}>\n                Ссылка на видео yotube должна быть в формате https://youtu.be/ID\n            </Typography>\n            <Typography variant='caption' component='p' color={error ? 'error' : 'inherit'}>\n                Ссылку нужного формата можно получить через функцию ПОДЕЛИТЬСЯ на youtube\n            </Typography>\n\n            <ButtonGroup className={classes.buttonGroup}>\n                <Button type='submit' color='secondary' variant='contained'  title='сохранить и закрыть'>\n                    сохранить\n                </Button>\n                <Button color='secondary' variant='contained'  title=' закрыть'\n                        onClick={() => setTrack(null)}>\n                    отмена\n                </Button>\n            </ButtonGroup>\n        </form>\n    );\n};\n\nexport default LfForm;","import React, {useEffect, useRef} from 'react';\nimport {Button, Divider, Typography} from '@material-ui/core';\n\nconst selectContent = (node) => {\n    const contentRange = window.document.createRange();\n    contentRange.selectNodeContents(node);\n    const contentSelection = window.getSelection();\n    contentSelection.removeAllRanges();\n    contentSelection.addRange(contentRange);\n};\n\nexport const JsonViewer = ({content, setShowJson, title}) => {\n    const ref = useRef();\n\n    useEffect(() => {\n        selectContent(ref.current);\n    }, []);\n\n    return (\n        <>\n            <Typography variant={'subtitle1'} color={'error'}>Редактируемый плейлист: \"{title}\"</Typography>\n            <Typography ref={ref} variant={'caption'} color={'secondary'}>\n                {JSON.stringify(content)}\n            </Typography>\n            <Divider/>\n            <Typography variant={'caption'}>Это готовый плейлист для сохранения в файле *.json</Typography>\n            <Divider/>\n            <Button onClick={() => setShowJson(false)} title='вернуться к списку'>\n                назад к списку треков плейлиста\n            </Button>\n        </>\n    );\n};","import {useCallback, useEffect, useState} from 'react';\nimport {localforage as lf} from '../localforage';\nimport {LIST_KEY, PLAYLIST_TYPE} from '../constants';\n\nexport const useDB = (needGet = true) => {\n    const [data, setData] = useState([]);\n\n    const getPlaylists = useCallback(async () => {\n        try {\n            const tmp = await lf.getItem(LIST_KEY);\n            setData(tmp ? tmp.map(item => (\n                {title: item['title'], href: item['key'], key: item['key'], type: PLAYLIST_TYPE.LF}\n            )) : []);\n        } catch (e) {\n            setData([]);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (needGet) {\n            getPlaylists();\n        }\n    }, [needGet, getPlaylists]);\n\n    const resetData = useCallback((newList) => {\n\n    }, []);\n\n    const deletePlaylist = useCallback((key, lists, setLists) => {\n        lf.removeItem(key).then(() => {\n            lf.getItem(LIST_KEY).then(lfdata => {\n                const data = lfdata ? lfdata : [];\n                lf.setItem(LIST_KEY, data.filter(el =>\n                    el.href !== key && typeof el.href !== 'undefined' && el.type === PLAYLIST_TYPE.LF\n                )).then(\n                    () => setLists(lists.filter(el => el.href !== key))\n                );\n            });\n        });\n    }, []);\n\n\n    const exportToLf = useCallback((key, title, content, lists, setLists) => {\n        lf.getItem(LIST_KEY).then(lfdata => {\n            const data = lfdata ? lfdata : [];\n            const newPlaylist = {title, type: PLAYLIST_TYPE.LF, key: key, href: key};\n            lf.setItem(LIST_KEY, [...data, {...newPlaylist}]).then(() => {\n                    setLists([...lists, {...newPlaylist}]);\n                    lf.setItem(key, content);\n                }\n            );\n        });\n    }, []);\n\n    const clearStorage = useCallback((lists, setLists) => {\n        lf.clear().then(() => setLists(lists.filter(el => el.type !== PLAYLIST_TYPE.LF)));\n    }, []);\n\n    const getDbContent = useCallback(async (key, setContent) => {\n        const el = await lf.getItem(key) || [];\n        if (setContent) {\n            setContent(el);\n        }\n        return el;\n    }, []);\n\n\n    return [data, {resetData, deletePlaylist, exportToLf, clearStorage, getDbContent}];\n};","import React, {useEffect, useRef, useState} from 'react';\nimport {Button, ButtonGroup, Typography} from '@material-ui/core';\nimport {getClearData, getFilteredData} from '../../functions';\nimport {MUIIcon} from '../../components/icon/MUIIcon';\nimport {MUITable} from '../../components/components';\nimport {useStyles} from './playlistform.css';\n\nconst reader = new FileReader();\n\nexport const JsonImport = ({content, setContent, setImportJson, title}) => {\n    const [status, setStatus] = useState(null);\n    const [jsonContent, setJsonContent] = useState([]);\n    const ref = useRef();\n\n    const classes = useStyles();\n\n    useEffect(() => {\n        const onLoad = () => {\n            const fileContent = JSON.parse(reader.result);\n            setJsonContent(fileContent ? getClearData(getFilteredData(fileContent)) : []);\n        };\n        reader.addEventListener('load', onLoad);\n\n        return () => {\n            if (reader) {\n                reader.removeEventListener('load', onLoad);\n            }\n        };\n    }, []);\n\n\n    const showJsonContent = () => {\n        const curFiles = ref.current.files;\n        if ((reader && curFiles && curFiles.length > 0) && (curFiles[0].type === 'application/json')) {\n            const file = curFiles[0];\n            setStatus(file.name);\n            reader.readAsText(file, 'UTF-8');\n        } else {\n            setStatus('Необходимо выбрать json файл');\n            setJsonContent([]);\n        }\n    };\n\n    const addContent = () => {\n        setContent([...content, ...jsonContent]);\n        setImportJson(false);\n    };\n\n    const rewriteContent = () => {\n        setContent([...jsonContent]);\n        setImportJson(false);\n    };\n\n    return (\n        <div className={classes.wrapper}>\n            <Typography variant={'subtitle1'} color={'error'}>Редактируемый плейлист: \"{title}\"</Typography>\n            <label className={classes.label} title={'Выбрать json-файл для загрузки содержимого'}>\n                <MUIIcon icon={'FromJson'}/>\n                <span>Json-file:&nbsp;</span>\n                <span>{status || ' не выбран'}</span>\n                <input type={'file'} ref={ref} onChange={showJsonContent} accept={'*.json'}\n                       style={{visibility: 'hidden'}}/>\n            </label>\n\n            {jsonContent && jsonContent.length > 0 ?\n                <>\n                    <MUITable data={jsonContent} size={'small'} TracksLimit={10} columns={['title', 'link']}\n                              tableTitle={'Содержимое файла'} forceFirst={true}\n                              hoverField={'title'} actions={{}}/>\n                    <ButtonGroup className={classes.btnGroup} color={'primary'} variant={'contained'}>\n                        <Button onClick={addContent} title='добавить к текущему плейлисту'>\n                            Добавить к текущему плейлисту\n                        </Button>\n                        <Button onClick={rewriteContent} title='перезаписать список треков текущего плейлиста'>\n                            Перезаписать плейлист\n                        </Button>\n                    </ButtonGroup>\n                </> :\n                <Typography className={classes.prompt} variant={'caption'}>Необходимо выбрать файл *.json, содержащий\n                    список треков</Typography>\n            }\n            <Button color={'primary'} variant={'outlined'} onClick={() => setImportJson(false)}\n                    title='вернуться к списку'>\n                назад к списку треков плейлиста\n            </Button>\n        </div>\n    );\n};","import React, {useEffect, useState} from 'react';\nimport {Button, ButtonGroup, Divider, IconButton, TextField, Typography} from '@material-ui/core';\nimport {Add} from '@material-ui/icons';\nimport {localforage as lf} from '../../localforage';\n\nimport LfForm from './LfForm';\nimport {MUIIcon, MUITable} from '../../components/components';\nimport {JsonViewer} from './JsonViewer';\nimport {LIST_KEY, PLAYLIST_TYPE} from '../../constants';\nimport {getTableActions, isValidIndex} from '../../functions';\nimport {useDB} from '../../hooks/customHooks';\nimport {JsonImport} from './JsonImport';\n\nexport const LfPlaylist = ({lists, setLists, edited, setEdited}) => {\n    const [content, setContent] = useState([]);\n    const [title, setTitle] = useState('');\n    const [track, setTrack] = useState('');\n    const [playlistKey, setPlaylistKey] = useState(null);\n    const [showJson, setShowJson] = useState(false);\n    const [importJson, setImportJson] = useState(false);\n\n    const [, {getDbContent}] = useDB();\n\n    useEffect(() => {\n        const currentKey = edited['href'];\n        if (currentKey) {\n            getDbContent(currentKey, setContent);\n        }\n        setTitle(edited['title']);\n        setPlaylistKey(currentKey);\n    }, [edited, getDbContent]);\n\n    const onDeleteTrack = (ind) => {\n        setContent(content.filter((el, index) => (index !== ind)));\n    };\n\n    const onEditTrack = (ind) => {\n        if (content[ind]) {\n            setTrack({...content[ind], ind});\n        }\n    };\n\n    const onCreateTrack = () => {\n        setTrack({title: '', link: '', ind: -1});\n    };\n\n    const onSaveTrack = (title, link, ind) => {\n        const changedContent = [...content];\n        if (isValidIndex(ind, changedContent)) {\n            changedContent[ind] = {title, link};\n        } else {\n            changedContent.push({title, link});\n        }\n        setTrack(null);\n        setContent(changedContent);\n    };\n\n    const onCancel = () => {\n        setEdited(false);\n        setShowJson(false);\n    };\n\n    const onSave = () => {\n        const playlistKey = edited['href'];\n        lf.setItem(playlistKey, [...content]).then().catch();\n        onSaveTitle(title);\n        setEdited(null);\n    };\n\n    const onExportToJson = () => {\n        setShowJson(true);\n    };\n\n    const addPlaylist = (data, key, title) => {\n        const element = {key, title, href: key, type: PLAYLIST_TYPE.LF};\n        lf.setItem(LIST_KEY, [...data.filter(el => el.type === PLAYLIST_TYPE.LF), element]).then(() => {\n                setPlaylistKey(key);\n                setLists([...data, element]);\n            }\n        );\n    };\n\n    const renamePlaylist = (el, data, key, title) => {\n        el['title'] = title;\n        lf.setItem(LIST_KEY, [...data.filter(el => el.type === PLAYLIST_TYPE.LF)]).then(() => {\n            setLists([...data]);\n        });\n    };\n\n    const onSaveTitle = (title) => {\n        const el = lists.find(el => el.href === playlistKey);\n        if (el) {\n            renamePlaylist(el, lists, playlistKey, title);\n        } else {\n            addPlaylist(lists, playlistKey, title);\n        }\n    };\n\n    const onImportToJson = () => {\n        setImportJson(true);\n    };\n\n    return (\n        <>\n            {showJson && <JsonViewer content={content} setShowJson={setShowJson} title={title}/>}\n            {importJson &&\n            <JsonImport content={content} setContent={setContent} setImportJson={setImportJson} title={title}/>}\n\n            {(!showJson && !importJson) &&\n            <>\n                <TextField variant='outlined' name='title'\n                           value={title} onChange={(evt) => setTitle(evt.target.value)}\n                           margin='dense' id='title' label='Название плейлиста' type='text' fullWidth/>\n                <IconButton onClick={onCreateTrack} title={'добавить трек'}><Add color={'primary'}/></IconButton>\n                <IconButton onClick={onExportToJson} title={'вывести в формате JSON'}>\n                    <MUIIcon icon={'ToJson'} color={'primary'}/>\n                </IconButton>\n                <IconButton onClick={onImportToJson} title={'загрузить из файла JSON'}>\n                    <MUIIcon icon={'FromJson'} color={'primary'}/>\n                </IconButton>\n                <MUITable data={content} size={'small'} TracksLimit={5} columns={['title', 'link']}\n                          tableTitle={'Содержимое плейлиста \"' + title + '\"'}\n                          hoverField={'title'} actions={getTableActions(onDeleteTrack, onEditTrack)}/>\n\n                {track && <LfForm track={track} setTrack={setTrack} onSaveTrack={onSaveTrack}/>}\n\n                <ButtonGroup style={{marginTop: '10px', flexWrap: 'wrap', justifyContent: 'center'}}>\n                    <Button onClick={onCancel} title='вернуться к списку без сохранения текущего плейлиста'>\n                        назад к списку плейлистов\n                    </Button>\n                    <Button onClick={onSave} title='сохрвнмть м вернуться к списку' color={'primary'}\n                            variant={'contained'}>\n                        !!! сохранить текущий плейлист !!!\n                    </Button>\n                </ButtonGroup>\n\n                <Divider style={{margin: '10px 0'}}/>\n                <Typography variant={'caption'}>\n                    После изменения состава плейлиста, нужно воспользоваться кнопкой\n                    \"Сохранить текущий плейлист\" для сохранения списка в IndexedDB\n                </Typography>\n            </>\n            }\n        </>\n    );\n};","import React from 'react';\nimport {PLAYLIST_TYPE} from '../../constants';\nimport LsPlaylist from './LsPlaylist';\nimport {LfPlaylist} from './LfPlaylist';\n\nconst PlaylistSwitcher = ({edited, setEdited, lists, setLists}) => (\n    <>\n        {edited && edited.type === PLAYLIST_TYPE.LF &&\n        <LfPlaylist lists={lists} setLists={setLists} edited={edited} setEdited={setEdited}/>}\n        {edited && edited.type === PLAYLIST_TYPE.JSON &&\n        <LsPlaylist lists={lists} setLists={setLists} edited={edited} setEdited={setEdited}/>\n        }\n    </>\n);\n\nexport default PlaylistSwitcher;","import React from 'react';\nimport {withRouter} from 'react-router-dom';\nimport {Button, ButtonGroup, Typography} from '@material-ui/core';\nimport {Add} from '@material-ui/icons';\n\nimport {MUIIcon, MUITable} from '../../components/components';\nimport {ALERT_TYPES, PLAYLIST_TYPE} from '../../constants';\nimport {getTableActions} from '../../functions';\nimport {ROUTES} from '../../routes';\n\nconst actionsDisable = {\n    disabledActions: ['edit', 'delete'], disabledCondition: {fieldName: 'type', condition: PLAYLIST_TYPE.DEFAULT}\n};\n\nconst PlaylistDialogControls = ({history, lists, onCreate, onCreateJson, onDelete, onEdit, onExport, setAlert}) => {\n    const onCloseClick = () => history.push(ROUTES.MAIN);\n    return (\n        <>\n            <ButtonGroup style={{margin: '7px'}}>\n                <Button variant={'outlined'} onClick={onCreateJson} title={'добавить Json-плейлист'}\n                        size={'small'} color={'primary'}>\n                    <Add/> <Typography variant={'caption'}>Json</Typography>\n                </Button>\n                <Button variant={'outlined'} onClick={onCreate} title={'добавить редактируемый плейлист в IndexedDB'}\n                        size={'small'} color={'primary'}>\n                    <Add/> <Typography variant={'caption'}>Db</Typography>\n                </Button>\n            </ButtonGroup>\n            <MUITable data={lists || []} size={'small'} rowsLimit={5} columns={['title', 'type', 'key']}\n                      hoverField={'href'} actions={getTableActions(onDelete, onEdit, onExport)}\n                      actionsDisable={actionsDisable}/>\n            <div style={{flexWrap: 'wrap', justifyContent: 'center', maxWidth: '100%', padding: '24px'}}>\n                <Button color='primary' variant='contained' title={'Закрыть список плейлистов'} onClick={onCloseClick}>\n                    Закрыть&nbsp;<MUIIcon icon={'Paw'}/>\n                </Button>\n                <Button variant='outlined' onClick={() => setAlert(ALERT_TYPES.LS)} title={'очистить LocalStorage'}>\n                    Очистить LocalStorage\n                </Button>\n                <Button variant='outlined' onClick={() => setAlert(ALERT_TYPES.LF)} title={'Очистить IndexedDB'}>\n                    Очистить IndexedDB\n                </Button>\n            </div>\n        </>\n    );\n};\n\nexport default withRouter(PlaylistDialogControls);","import {makeStyles} from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles(theme => ({\n    drawer: {\n        '&>*': {\n            maxWidth: '90%',\n            textAlign: 'center'\n        }\n    },\n    paper: {\n        overflow: 'auto',\n        padding: theme.spacing(2)\n    }\n}));","import React, {useState} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport axios from 'axios';\nimport {Drawer, Paper, Typography} from '@material-ui/core';\n\nimport PlaylistEditor from './PlaylistEditor';\nimport PlaylistDialogControls from './PlaylistDialogControls';\nimport {AlertDialog} from '../../components/components';\nimport {useDB} from '../../hooks/customHooks';\nimport {ROUTES} from '../../routes';\nimport {getClearData, getFilteredData, getNewKey, setLocalPlaylists} from '../../functions';\nimport {ALERT_TYPES, LOCAL_STORAGE, PLAYLIST_TYPE} from '../../constants';\nimport {useStyles} from './PlaylistDialog.css'\n\n\nconst getJsonContent = async (href) => {\n    const res = await axios.get(href);\n    try {\n        return res ? getClearData(getFilteredData(res.data)) : [];\n    } catch (err) {\n        return [];\n    }\n};\n\nexport const PlaylistDialog = ({lists, setLists}) => {\n    const [edited, setEdited] = useState(null);\n    const [alert, setAlert] = useState(false);\n    const [redirect, setRedirect] = useState(null);\n    const classes = useStyles();\n\n    const [, {exportToLf, clearStorage, getDbContent, deletePlaylist}] = useDB(false);\n\n    const onDelete = (ind) => {\n        if (lists[ind]['type'] === PLAYLIST_TYPE.LF) {\n            deletePlaylist(lists[ind]['href'], lists, setLists);\n        } else if (lists[ind]['type'] === PLAYLIST_TYPE.JSON) {\n            const newLists = [...lists];\n            newLists.splice(ind, 1);\n            setLists(newLists);\n            setLocalPlaylists(newLists);\n        }\n    };\n\n    const onEdit = (ind) => {\n        setEdited({...lists[ind], 'index': ind});\n    };\n\n    const onCreateJson = () => {\n        setEdited({title: '', type: PLAYLIST_TYPE.JSON, 'index': -1});\n    };\n\n    const onCreate = () => {\n        setEdited({title: '', type: PLAYLIST_TYPE.LF, 'index': -1, href: getNewKey()});\n    };\n\n    const onExport = async (ind) => {\n        const {type, title, href} = lists[ind];\n        const content = (type === PLAYLIST_TYPE.LF) ? await getDbContent(href) : await getJsonContent(href);\n        const key = getNewKey();\n        exportToLf(key, title, content, lists, setLists);\n    };\n\n    const lfClear = () => {\n        clearStorage(lists, setLists);\n    };\n\n    const lsClear = () => {\n        window.localStorage.removeItem(LOCAL_STORAGE);\n        setLists(lists.filter(el => el.type !== PLAYLIST_TYPE.JSON));\n    };\n\n    const controlProps = {lists, onCreate, onCreateJson, onDelete, onEdit, onExport, setAlert};\n\n    const onClose = () => setRedirect(ROUTES.MAIN);\n\n    if (redirect) {\n        return <Redirect to={redirect}/>\n    }\n\n    return (\n        <Drawer className={classes.drawer} open={true} anchor={'right'} onClose={onClose}>\n            <Paper className={classes.paper}>\n                <Typography variant={'h6'}>Редактирование списка плейлистов</Typography>\n\n                {edited ?\n                    <PlaylistEditor lists={lists} setLists={setLists}\n                                    edited={edited} setEdited={setEdited}/>\n                    :\n                    <PlaylistDialogControls {...controlProps}/>\n                }\n                {alert && alert === ALERT_TYPES.LS &&\n                <AlertDialog message={'полностью удалить из LocalStorage список Json-плейлистов'}\n                             alert={alert === ALERT_TYPES.LS} setAlert={setAlert}\n                             callback={lsClear}/>\n                }\n                {alert && alert === ALERT_TYPES.LF &&\n                <AlertDialog message={'полностью очистить IndexedDB со списком локальных плейлистов'}\n                             alert={alert === ALERT_TYPES.LF} setAlert={setAlert}\n                             callback={lfClear}/>}\n            </Paper>\n        </Drawer>\n    );\n};","import {makeStyles} from '@material-ui/core/styles';\nimport {theme} from '../../theme';\n\nexport const useStepperStyles = makeStyles({\n        root: {\n            width: '100%',\n        },\n        backButton: {\n            marginRight: theme.spacing(1),\n        },\n        instructions: {\n            marginTop: theme.spacing(1),\n            marginBottom: theme.spacing(1),\n        },\n        rootStep: {\n            backgroundColor: '#ccc',\n            zIndex: 1,\n            color: '#fff',\n            width: 30,\n            height: 30,\n            display: 'flex',\n            borderRadius: '50%',\n            justifyContent: 'center',\n            alignItems: 'center',\n        },\n        active: {\n            backgroundColor: theme.palette.primary.main,\n            boxShadow: '0 4px 10px 0 rgba(0, 0, 0, 0.25)',\n        },\n        completed: {\n            backgroundColor: theme.palette.primary.light,\n            boxShadow: '0 2px 10px 0 rgba(0, 0, 0, 0.25)',\n        }\n    }\n);\n","import React from 'react';\nimport clsx from 'clsx';\n\nimport {MUIIcon} from '../components';\nimport {isValidIndex} from '../../functions';\nimport {PLAYER_STEPS_ICONS} from '../../constants';\nimport {useStepperStyles} from './PlayerStepper.css';\n\nconst StepIcon = ({active = false, completed = false, error = false, icon = 'PlayList'}) => {\n    const classes = useStepperStyles();\n    const stepIcon = isValidIndex(icon - 1, PLAYER_STEPS_ICONS) ?\n        PLAYER_STEPS_ICONS[icon - 1] :\n        icon;\n    return (\n        <div\n            className={clsx(classes.rootStep, {\n                [classes.active]: active,\n                [classes.completed]: completed,\n            })}>\n            <MUIIcon icon={active || !completed ? stepIcon : 'Done'}/>\n        </div>\n    );\n};\n\nexport default StepIcon;","import React from 'react';\nimport {Stepper, Step, StepLabel} from '@material-ui/core';\n\nimport StepIcon from './StepIcon';\nimport {PLAYER_STEPS} from '../../constants';\nimport {useStepperStyles} from './PlayerStepper.css';\n\nexport const PlayerStepper = ({\n                           steps = PLAYER_STEPS, activeStep,\n                           playlist = null, setPlaylist, setPlayerActive, showSubmenu\n                       }) => {\n\n    const classes = useStepperStyles();\n\n    const changeStep = (evt, ind) => {\n        if (ind === 0 && playlist) {\n            setPlayerActive(false);\n            setPlaylist(null);\n            showSubmenu(null);\n        } else if (ind === 0 && !playlist) {\n            showSubmenu(evt.target);\n        } else if (ind === 1 && playlist) {\n            setPlayerActive(true);\n        }\n    };\n\n    return (\n        <div className={classes.root}>\n            <Stepper activeStep={activeStep} alternativeLabel>\n                {steps.map((step, ind) => (\n                    <Step key={ind} onClick={(evt) => changeStep(evt, ind)}>\n                        <StepLabel StepIconComponent={StepIcon}>\n                            {ind + 1}. {step}\n                        </StepLabel>\n                    </Step>\n                ))}\n            </Stepper>\n\n        </div>\n    );\n};\n","import React from 'react';\nimport {Fab, Typography, Divider} from '@material-ui/core';\nimport {MUIIcon} from '../components';\n\nexport const Comment = ({setPlayerActive}) => (\n    <>\n        <Typography variant='body2' color='primary'>\n            Выбранный плейлист теперь доступен в стандартном iframe youtube\n        </Typography>\n        <Divider/>\n        <Typography variant='caption' color='primary'>\n            отключить плеер: <Fab size='small' color='primary' onClick={() => setPlayerActive(false)}><MUIIcon\n            icon='Off'/></Fab>\n        </Typography>\n\n    </>\n);\n","import {makeStyles} from '@material-ui/core/styles';\nimport {theme} from './theme';\n\nconst mainColor = theme.palette.primary.main;\n\nexport const useStyles = makeStyles({\n        app: {\n            textAlign: 'center',\n            padding: theme.spacing(0),\n            display: 'flex',\n            flexDirection: 'column',\n            minHeight: '100vh',\n        },\n        paper: {\n            padding: theme.spacing(1),\n            width: 'auto'\n        },\n        paperWhite: {\n            width: '100%',\n            flexGrow: 1,\n            padding: '20px'\n        },\n        link: {\n            textDecoration: 'none',\n            color: 'white'\n        },\n        linkDark: {\n            textDecoration: 'none',\n            color: mainColor\n        },\n        mLeft: {\n            marginLeft: 'auto',\n            marginRight: theme.spacing(1)\n        },\n        submenu: {\n            display: 'flex',\n            flexDirection: 'column'\n        },\n        courses: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            padding: theme.spacing(1),\n            marginTop: theme.spacing(2)\n        },\n        courseBtn: {\n            width: '100%',\n            marginTop: theme.spacing(1)\n        },\n        lessonBtn: {\n            margin: theme.spacing(1)\n        },\n        card: {\n            alignSelf: 'center',\n            boxShadow: '0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22)',\n            maxWidth: '400px',\n            [theme.breakpoints.down('sm')]: {\n                maxWidth: '250px'\n            }\n        },\n        avatar: {\n            backgroundColor: theme.palette.primary.main\n        },\n        wrapper: {\n            width: '100%',\n            flexGrow: 1\n        },\n        spaceBetween: {\n            display: 'flex',\n            justifyContent: 'space-between',\n        },\n        paperFlex: {\n            display: 'flex',\n            alignItems: 'center',\n            padding: theme.spacing(1),\n            width: 'auto'\n        },\n        paperFlexFull: {\n            display: 'flex',\n            alignItems: 'center',\n            padding: theme.spacing(1),\n            width: '100%'\n        },\n       ml: {\n            marginLeft: theme.spacing(2),\n            marginRight: theme.spacing(2),\n           [theme.breakpoints.down('sm')]: {\n              fontSize: '100%',\n               wordBreak: 'break-word'\n           }\n       },\n      fabParent: {\n          '& > *': {\n              marginRight: theme.spacing(2),\n          },\n      }\n    }\n);","import React, {useState, useEffect} from 'react';\nimport {Fab, Menu, MenuItem} from '@material-ui/core';\n\nimport {MUIIcon} from '../components';\nimport {useStyles} from '../../App.css';\n\nexport const Submenu = ({\n                     submenuItems = [], callback = null,\n                     switchIcon = 'More', text = '', prompt = 'выбор', anchor = null, showButton = true, showSubmenu = null\n                 }) => {\n    const [anchorEl, setAnchorEl] = useState(null);\n    const classes = useStyles();\n\n    useEffect(() => {\n        setAnchorEl(anchor);\n    }, [anchor]);\n\n    const convertedItems = submenuItems.map(item => (typeof (item) === 'object' ? item : ({\n        'href': item,\n        'text': item,\n        'key': item\n    })));\n\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = (key) => {\n        setAnchorEl(null);\n        if (showSubmenu) {\n            showSubmenu(null);\n        }\n        if (callback) {\n            callback(key);\n        }\n    };\n\n    return (\n        <>\n            {showButton ?\n                <Fab color='primary' size='small' title={prompt}\n                     aria-controls='submenu' aria-haspopup='true' onClick={handleClick}\n                     disabled={submenuItems.length === 0}>\n                    <MUIIcon icon={switchIcon}/>\n                </Fab> : null\n            }\n            <Menu className={classes.submenu}\n                  id='submenu'\n                  anchorEl={anchorEl}\n                  keepMounted\n                  open={Boolean(anchorEl)}\n                  onClose={handleClose}\n            >\n                {convertedItems.map((link, ind) =>\n                    (\n                        <MenuItem key={ind} title={link.text} onClick={() => handleClose(link.key)}>\n                            <MUIIcon icon={link.icon}/>\n                            <span>&nbsp;</span>\n                            <span>{link.text}</span>\n                        </MenuItem>\n                    ))}\n\n            </Menu>\n        </>\n    );\n};","import React from 'react';\nimport {Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from '@material-ui/core';\n\nexport const AlertDialog = ({alert, setAlert, message = '', callback = null}) => {\n\n    const onAlertClose = () => {\n        setAlert(false);\n    };\n\n    const onAlertAction = () => {\n        setAlert(false);\n        if (callback) {\n            callback();\n        }\n    };\n\n    return (\n        <Dialog open={!!alert} onClose={onAlertClose}\n                aria-labelledby='alert-dialog-title' aria-describedby='alert-dialog-description'>\n            <DialogTitle id='alert-dialog-title'>{'ВНИМАНИЕ !'}</DialogTitle>\n            <DialogContent>\n                <DialogContentText id='alert-dialog-description'>\n                    Вы уверены, что хотите {message} ?\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onAlertClose} color='primary' variant={'contained'} title='Не выполнять действие'\n                        autoFocus>\n                    Отказаться от выполнения\n                </Button>\n                <Button onClick={onAlertAction} color='primary' title='Внимание! Указанное действие будет выполнено!'>\n                    Выполнить действие\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};","import React from 'react';\nimport {TableCell} from '@material-ui/core';\n\nconst ActionsHeaders = ({actions}) => (\n    actions ? Object.keys(actions).map(key => (\n        <TableCell style={{width: '20px'}} key={'action-' + key}></TableCell>\n    )) : null\n);\n\nexport default ActionsHeaders;","import React from 'react';\nimport {Button, TableCell} from '@material-ui/core';\nimport {MUIIcon} from '../../components';\n\nconst ActionsCells = ({actions, rowInd, disabledCondition = false, disabledActions = ['edit', 'delete']}) => {\n    const onButtonClick = (actions, key, rowInd) => {\n        if (actions[key]['onCallback']) {\n            actions[key].onCallback(rowInd);\n        }\n    };\n\n    return (\n        Object.keys(actions).map(key => (\n            <TableCell size={'small'} key={rowInd + '-' + key} title={actions[key]['title']} style={{width: '20px'}}>\n                {(disabledCondition && (disabledActions.indexOf(key.toLowerCase()) !== -1)) ?\n                <Button disabled={true} title={actions[key]['title']}>\n                    <MUIIcon icon={actions[key]['icon']} color={'disabled'}/>\n                </Button>\n                :\n                <Button  title={actions[key]['title']} onClick={() => onButtonClick(actions, key, rowInd)}>\n                    {actions[key]['icon'] ?\n                        <MUIIcon icon={actions[key]['icon']}/> :\n                        actions[key]['title'] || ''\n                    }\n                </Button>\n                }\n            </TableCell>\n        )));\n};\n\nexport default ActionsCells;","import React from 'react';\nexport default React.createContext(0);","import React, {useContext, useEffect, useState} from 'react';\nimport {Paper, Table, TableBody, TableCell, TableHead, TablePagination, TableRow, Typography} from '@material-ui/core';\n\nimport ActionsHeaders from './actions/ActionsHeaders';\nimport ActionsCells from './actions/ActionsCells';\nimport LastPageContext from '../../LastPageContext';\nimport {useStyles} from './MUITable.css';\n\nconst getDisabled = (data, rowInd, actionsDisable) => {\n    const result = {disabledActions: [], disabledCondition: false};\n    if (data && actionsDisable && actionsDisable['disabledCondition']) {\n        const fieldName = actionsDisable.disabledCondition['fieldName'];\n        const fieldCondition = actionsDisable.disabledCondition['condition'];\n        const fieldValue = data[rowInd][fieldName];\n        result.disabledCondition = fieldName && fieldValue && fieldCondition ? (fieldValue === fieldCondition) : false;\n        result.disabledActions = [...actionsDisable['disabledActions']];\n    }\n    return result;\n};\n\nconst getCell = (row, column, rowIndex) => (row[column] || (column === 'id' ? rowIndex + 1 : ''));\n\nconst getHoverTitle = (row, hoverField) => (\n    hoverField && row[hoverField] ? hoverField + ' : ' + row[hoverField] : ''\n);\n\n/**\n * @param actions = {'delete: {'title' : 'удалить',  icon: 'Delete', callback: something}}\n */\n\nexport const MUITable = ({\n                             data, columns, rowsLimit = 10, size = 'small', maxWidth = '100%',\n                             hoverField = null, actions = null,\n                             tableTitle = null, actionsDisable = null, forceFirst = false\n                         }) => {\n    const classes = useStyles(maxWidth);\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(rowsLimit);\n    const {lastPage, setLastPage} = useContext(LastPageContext);\n\n    const totalPages = data ? Math.ceil(data.length / rowsLimit) : 0;\n\n    const startPage = ((lastPage >= totalPages) || forceFirst) ? 0 : lastPage;\n\n    useEffect(() => {\n        setPage(startPage);\n    }, [startPage]);\n\n    const handleChangePage = (event, newPage) => {\n        setPage(newPage);\n        if (!forceFirst) {\n            setLastPage(newPage);\n        }\n    };\n\n    const handleChangeRowsPerPage = event => {\n        setRowsPerPage(+event.target.value);\n        setPage(0);\n        if (!forceFirst) {\n            setLastPage(0);\n        }\n    };\n\n    return (\n        <div style={{maxWidth: maxWidth}}>\n            <Paper className={classes.root}>\n                <div className={classes.tableWrapper} style={{overflowX: 'auto'}}>\n\n                    <Typography variant='h6' color={'textPrimary'}>{tableTitle}</Typography>\n\n                    <Table stickyHeader aria-label=\"таблица\" size={size}>\n                        <TableHead>\n                            <TableRow>\n                                <ActionsHeaders actions={actions}/>\n                                {columns.map((column, ind) => (\n                                    <TableCell key={ind}>\n                                        {column}\n                                    </TableCell>\n                                ))}\n\n                            </TableRow>\n                        </TableHead>\n                        <TableBody>\n                            {data.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage).map((row, rowInd) =>\n                                (\n                                    <TableRow key={rowInd} title={getHoverTitle(row, hoverField)}>\n                                        {actions && <ActionsCells actions={actions} rowInd={rowInd + rowsPerPage * page}\n                                                                  {...getDisabled(data, rowInd + rowsPerPage * page, actionsDisable)}\n                                        />}\n                                        {columns.map((column, ind) => (\n                                                <TableCell key={rowInd + '_' + ind}>\n                                                    {getCell(row, column, rowInd + rowsPerPage * page)}\n                                                </TableCell>\n                                            )\n                                        )}\n\n                                    </TableRow>\n                                ))\n                            }\n                        </TableBody>\n                    </Table>\n\n                    {data && (data.length > 5) &&\n                    <TablePagination className={classes.selectRoot} size={'small'}\n                                     rowsPerPageOptions={[5, 10, 15]}\n                                     labelRowsPerPage={''}\n                                     component=\"div\"\n                                     count={data.length}\n                                     rowsPerPage={rowsPerPage}\n                                     page={page}\n                                     onChangePage={handleChangePage}\n                                     onChangeRowsPerPage={handleChangeRowsPerPage}/>\n                    }\n                </div>\n            </Paper>\n        </div>\n    );\n};","import {makeStyles} from '@material-ui/core';\nimport {theme} from '../../theme';\n\nexport const useStyles = () => makeStyles({\n    root: {\n        padding: theme.spacing(1),\n        maxWidth: '100%'\n    },\n    tableWrapper: {\n        maxHeight: '90vh',\n        overflowY: 'auto',\n    },\n    spaceBetween: {\n        display: 'flex',\n        width: '100%',\n        justifyContent: 'space-between',\n        alignItems: 'center'\n    }\n});","import {makeStyles} from '@material-ui/core/styles';\n\nexport const useStyles = makeStyles(theme => ({\n        part: {\n            padding: '10px',\n            textAlign: 'center'\n        },\n        paper: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            width: '100%',\n            padding: '20px'\n        },\n        drawer: {\n            '&>*': {\n                maxWidth: '90%',\n                textAlign: 'center'\n            }\n        },\n        drawerPaper: {\n            overflow: 'auto',\n            padding: theme.spacing(2)\n        }\n    })\n);","import React, {useState} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport {Button, Divider, Drawer, Grid, Paper, Typography} from '@material-ui/core';\n\nimport {ROUTES} from '../../routes';\nimport {useStyles} from './About.css';\n\nexport const About = () => {\n    const [redirect, setRedirect] = useState(null);\n    const classes = useStyles();\n\n    const onClose = () => setRedirect(ROUTES.MAIN);\n\n    if (redirect) {\n        return <Redirect to={redirect}/>\n    }\n\n    return (\n        <Drawer className={classes.drawer} open={true} anchor={'right'} onClose={onClose}>\n            <Paper className={classes.paper}>\n                <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                        <Typography variant={'subtitle1'}>О программе</Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Typography className={classes.part} variant={'caption'}>\n                            Что-то с чем-то, постепенно обрaстающее всякой ерундой.\n                        </Typography>\n                        <Divider/>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography className={classes.part} variant={'body2'}>\n                            Можно создавать плейлисты со ссылками на готовые списки треков в формате json (тип JSON)\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography className={classes.part} variant={'body2'}>\n                            Можно создавать и редактировать списки прямо здесь (тип IndexedDB)\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <Typography className={classes.part} variant={'body2'}>\n                            Созданные плейлисты можно экспортировать в json и копировать полученное содержимое в файлы,\n                            создаваемые вне браузера.\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={6}>\n                        <Typography className={classes.part} variant={'body2'}>\n                            Содержимое редактируемых плейлистов можно загружать из файлов json.\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <Divider/>\n                        <Typography variant={'subtitle1'} style={{marginTop: '20px'}}>\n                            Файл json со списком треков - это массив объектов со свойствами title и link\n                        </Typography>\n                        <Paper className={classes.part}>\n                            <Typography variant={'caption'}>{`\n                        [\n                        {\n                            \"title\": \"Какое-то название трека\",\n                            \"link\": \"https://youtu.be/rHla01hiCqc\"\n                        }\n                        ]`}\n                            </Typography>\n                        </Paper>\n\n                    </Grid>\n                </Grid>\n\n                <Typography variant={'caption'} style={{margin: '20px 0'}}>\n                    Редактирование и сохранение списков не имеет смысла в режиме inPrivate.\n                    Отдельное спасибо обитателям одного чатика, которые наводящими вопросами помогли понять это:-)\n                </Typography>\n\n                <Button onClick={onClose} color={'primary'} variant={'outlined'} title={'Перейти на главную'}>\n                    на главную\n                </Button>\n            </Paper>\n        </Drawer>\n    );\n};\n","import {Comment} from '../../components/comment/Comment';\nimport {PlayerStepper} from '../../components/stepper/PlayerStepper';\nimport {getActiveStep} from '../../functions';\nimport React from 'react';\n\nexport const Main = ({playerActive, setPlayerActive, playlist, setPlaylist, changePlaylist, setIsStepperSubmenu}) => (\n    <>\n\n        {playlist && playerActive ?\n            <Comment setPlayerActive={setPlayerActive}/> :\n            <PlayerStepper activeStep={getActiveStep(playlist, playerActive)}\n                           playlist={playlist} setPlaylist={setPlaylist} changePlaylist={changePlaylist}\n                           playerActive={playerActive} setPlayerActive={setPlayerActive}\n                           showSubmenu={setIsStepperSubmenu}/>\n        }\n    </>\n);","import React from 'react';\r\nimport {Typography} from '@material-ui/core';\r\n\r\nexport const NotFound = () => (\r\n    <>\r\n        <Typography variant='h6'> Ошибка 404: страница не найдена</Typography>\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"0 0 300 300\">\r\n            <g fill=\"#59698d\">\r\n                <path\r\n                    d=\"M4.3 55C2.5 56.1 1 57.2 1 57.4c0 .2 2.9 1.4 6.4 2.6 23.4 7.8 36.6 32.2 39.8 73.8 1.7 21.8-.6 42.2-6.8 61.7-4.3 13.3-17.4 34.3-27.3 44-2.3 2.1-4.1 4.2-4.1 4.6 0 .4 2.6-.1 5.7-1.1 12.1-3.7 19-4.4 28.6-2.7C59 243 64 240.1 68.5 226c1.8-5.7 4.5-9.9 4.5-7 0 .8-.7 4.2-1.5 7.5s-1.4 7.1-1.5 8.5v2.4l1.6-2.2c2.3-3.4 3.4-2.7 3.4 2.2 0 2.5.5 4.8 1 5.1 2.7 1.7 23.3 4.5 32.5 4.5 11.2 0 27.3-2.6 40.6-6.4 4.6-1.4 20.4-7.4 35.1-13.5 37.3-15.3 49.4-18.8 69.3-19.7 12.6-.6 23.3.8 29.7 4.1 4 2 4.3 1.9 5.6-.7.9-1.9 1.1-1.3 1.1 3.8.1 5.3-.3 6.5-2.4 8.6-1.4 1.4-4 3.3-5.8 4.2l-3.2 1.7 4-.6c6.8-1 12.8-4.6 14.8-8.7 3.9-8 3-22-2-27.8-4.2-5.1-7.6-6.2-21.5-7.2-7-.4-14-1.4-15.5-2-2.6-1.1-2.2-1.2 4.9-1.9 4.2-.3 9.3-1.5 11.5-2.5 3.3-1.6 3.8-2.4 4.1-5.7.2-2.1-.6-8.7-1.7-14.7-3-15.5-5.1-32.2-5.1-40.6 0-7.2 0-7.2-3.5-9.3-4.3-2.5-4.4-3.6-.2-5.1 2.9-1 3-1.2 1.5-2.4-2.6-1.9-2.2-2.6 1.6-2.6h3.4l-.1-18.3c0-10 .2-19.1.4-20.2 1.1-5.2-27.8-7.8-45.1-4.2-4.7 1-15 4.1-23 6.8-34.8 12-40.8 13.8-50.8 14.8-12.6 1.3-38.3-.1-63.6-3.5-10.4-1.3-19.4-2.3-20-2.1-.7.2-1.1 4.7-1.1 13.3 0 8.2-.5 13.6-1.2 14.9-1 1.6-1.2.2-1.3-8.2 0-11.2-1.4-19.5-3.5-21.3-1.1-.9-1.2-.4-.8 2.8.3 2.4.1 4.2-.6 4.6-.6.4-1.1.2-1.1-.4 0-2.6-5.4-9.1-9.6-11.6-6-3.5-19.5-8-31.3-10.5-11.7-2.4-13.8-2.4-17.8.1zM199 87.5c1.6.8 3.5 2.4 4.3 3.5 1.4 2 1.4 2 5.8-.5 9-5.1 19.6-2.5 22 5.4 1.1 3.6 1 4.5-1.2 8.7-3.4 6.7-7.5 8.7-16.2 8-6.6-.5-7-.4-11.8 3l-4.9 3.6 3.5 4.1c4.4 5.1 7.9 12.4 9.5 19.9 1.6 7.3.2 15.2-3.8 21.1-1.5 2.3-3.1 4.7-3.5 5.4-.5.8.9 1.9 3.9 3.2 2.6 1.2 4.8 2.1 4.9 2.1.2 0 .6-1.1.9-2.4.3-1.3 2.2-3.8 4.1-5.5 2.9-2.5 4.5-3.1 8.1-3.1 3.9 0 5.1.5 7.9 3.3 3.1 3.1 5.5 8.8 5.5 13 0 7.7-10.6 13.1-19.4 9.7-2.5-.9-2.6-.8-2.6 2.8 0 6.7-5 11.3-10 9.2-4.4-1.8-6.4-8.9-4-14.5.6-1.6-.1-2.9-3.3-6.3-2.3-2.3-4.4-4.2-4.8-4.2-.4 0-2.5 1-4.8 2.3l-4 2.3 2.9 4.5c1.7 2.4 3 4.7 3 5.2 0 .8-4.1 2.6-8.1 3.4-2.5.5-2.8.1-4.4-4.6-.9-2.8-2.1-5.1-2.6-5.1-1.3 0-1.2 1 1.1 7.5 1.1 3.2 1.9 5.9 1.8 6-.6.5-9.8 2.5-11.2 2.5-1.2 0-1.6-1.5-1.8-6.7-.2-4.4-.7-6.8-1.6-7.1-1.1-.3-1.2 1.2-.6 7.8l.7 8.1-6.4-.7c-3.5-.4-6.6-.8-6.7-1-.2-.1 0-3.4.5-7.3.7-5.4.6-7.1-.3-7.1-.7 0-1.5 2.3-1.9 6.1-.7 5.6-.9 6-2.9 5.5-1.1-.3-3.8-.9-5.8-1.2-2.1-.4-3.8-.8-3.8-1.1 0-.2.7-2 1.5-4 .8-1.9 1.5-4.1 1.5-4.8 0-.7-3.3-2.4-7.2-3.8l-7.3-2.6-4.1 4-4.1 4 3.5 3.5c3.1 3.1 3.4 3.9 2.9 7.2-.8 4.7-5.5 9.2-9.8 9.2-4 0-7.9-3.9-7.9-7.9v-3l-3.5 1.5c-5.1 2.1-11.7 1.8-14.9-.7-5.7-4.5-6.9-10.4-3.6-16.9 5.1-9.9 19.3-12.6 24.6-4.5l1.5 2.4 3.5-2.1 3.4-2-3.3-3.8c-8.1-8.8-8.9-20.8-2.4-34.4 2.1-4.4 3.4-8.2 3-8.6-.4-.4-2.6-1.9-4.7-3.3l-3.9-2.6-1.8 2.3c-4 5.1-16 5.5-20.4.6-4.4-4.9-2.4-15.9 3.7-20.4 3.1-2.2 11-2.6 14.6-.7 1.8.9 2.1.7 3.1-2.1 2.3-6.6 7-8.6 11.9-5.2 3 2.1 3.1 8.8.1 12l-2.1 2.2 3.2 4.7 3.2 4.6 6.6-6.3c7.9-7.6 11.8-10.1 19.1-12.2 6.4-1.9 12-2 19.3-.5 5.9 1.3 16.3 5.7 20.7 8.8 1.6 1.2 3.1 2.1 3.4 2.1.3 0 1.2-1.9 2-4.3 1.4-4.2 1.4-4.4-1.4-7.5-2.1-2.4-2.9-4.3-2.9-7 0-4.2.6-5.4 3.5-7 2.7-1.5 4.1-1.5 7.5.3z\"/>\r\n                <path\r\n                    d=\"M132.8 118c-7 3.8-15.5 17-16.4 25.8-.7 5.9 2.4 12.2 7.9 16.6 2.9 2.4 5 3.1 9.7 3.4 8 .6 14.1-2.3 18.2-8.7 2.8-4.3 2.9-5.1 2.6-12.8-.4-6.8-1-9.2-3.9-15-3.5-7-8.2-11.3-12.3-11.3-1.2.1-3.8 1-5.8 2zm16.7 19.3c3.5 5.5 2.2 14.7-2.4 16.2-6.6 2.1-10.8-10.8-5.4-16.7 2.2-2.5 5.9-2.3 7.8.5zM168.8 123.3c-4.6 4.3-4.8 17.5-.5 25.2 5.7 10.1 23.3 11.5 29.9 2.5 2.4-3.2 3.2-8.6 2.4-14.5-.6-3.4-1.6-5.4-4.3-8-7.3-7.1-22.4-9.9-27.5-5.2zm6 14.9c1.9 1.9 1.4 7.3-.7 9.2-1.8 1.7-2 1.7-4-.3-2.3-2.3-2.7-5.2-1.1-8.2 1.2-2.1 4-2.5 5.8-.7zM162.2 159.2c-1.9 1.9-1.4 9.5.8 13.8 1.8 3.5 2.5 4 5.4 4 1.9 0 4.4-.8 5.6-1.8 3.3-2.6 2.1-8-2.9-13.2-3.9-4.1-6.7-5-8.9-2.8zM154.6 163.2c-3.5 5.3-3.9 12.2-.8 11.6 3.3-.6 5.5-9.2 3.3-12.7-.7-1.1-1.2-.8-2.5 1.1z\"/>\r\n            </g>\r\n        </svg>\r\n        <Typography variant='body1'>...печалька...</Typography>\r\n    </>\r\n);\r\n\r\n","import React, {useEffect, useState} from 'react';\r\nimport {Route, Switch, withRouter} from 'react-router-dom';\r\nimport {Container, CssBaseline, Paper, Typography} from '@material-ui/core';\r\nimport {ThemeProvider} from '@material-ui/styles';\r\n\r\nimport {\r\n    Aside,\r\n    Footer,\r\n    Header,\r\n    Player,\r\n    PlayListContainer,\r\n    Submenu\r\n} from './components/components';\r\n\r\nimport LastPageContext from './LastPageContext';\r\nimport {getLocalPlaylists, getPlaylists} from './functions';\r\nimport {useDB} from './hooks/customHooks';\r\nimport {theme} from './theme';\r\nimport {useStyles} from './App.css.js';\r\nimport {ROUTES} from './routes';\r\nimport {About, Main, NotFound, PlaylistDialog} from './pages/pages';\r\n\r\nconst App = ({history}) => {\r\n    const [lists, setLists] = useState([]);\r\n    const [playlist, setPlaylist] = useState(null);\r\n    const [content, setContent] = useState([]);\r\n    const [playerActive, setPlayerActive] = useState(false);\r\n    const [isDrawerOpen, setIsDrawerOpen] = useState(false);\r\n    const [isStepperSubmenu, setIsStepperSubmenu] = useState(null);\r\n    const [lastPage, setLastPage] = useState(0);\r\n    const [lfData] = useDB();\r\n\r\n    const classes = useStyles();\r\n\r\n    useEffect(() => {\r\n        setLists([...getLocalPlaylists(), ...lfData]);\r\n    }, [lfData]);\r\n\r\n    const changePlaylist = (key) => {\r\n        const ind = parseInt(key);\r\n        if (lists.length > ind) {\r\n            setPlaylist(lists[ind]);\r\n            history.push('/');\r\n        }\r\n    };\r\n\r\n    const switchPlayerActive = () => setPlayerActive(!playerActive);\r\n\r\n    const mainProps = {\r\n        content, playerActive, setPlayerActive, playlist, setPlaylist, changePlaylist, setIsStepperSubmenu\r\n    };\r\n\r\n    return (\r\n\r\n        <ThemeProvider theme={theme}>\r\n            <LastPageContext.Provider value={{lastPage, setLastPage}}>\r\n                <CssBaseline/>\r\n                <Container className={classes.app}>\r\n\r\n                    <Header classes={classes} lists={lists} callback={changePlaylist} playlist={playlist}\r\n                            switchPlayerActive={switchPlayerActive} playerActive={playerActive}/>\r\n\r\n                    <Paper className={classes.paperWhite}>\r\n                        <Typography className='' variant='h5'>Анонимный проигрыватель youtube-видео</Typography>\r\n                        <PlayListContainer playlist={playlist} playerActive={playerActive} content={content}\r\n                                           setContent={setContent}/>\r\n                        <Aside classes={classes} isDrawerOpen={isDrawerOpen} onClose={() => setIsDrawerOpen(false)}\r\n                               playlist={playlist} data={content} playerActive={playerActive}/>\r\n                        <Player data={content} playerActive={playerActive}/>\r\n                        <Switch>\r\n                            <Route path={ROUTES.MAIN} exact\r\n                                   render={() => <Main {...mainProps}/>}/>\r\n                            <Route path={ROUTES.EDIT}\r\n                                   render={() => <PlaylistDialog lists={lists} setLists={setLists}/>}/>\r\n                            <Route path={ROUTES.ABOUT}\r\n                                   render={() => <About/>}/>\r\n                            <Route render={() => <NotFound/>}/>\r\n                        </Switch>\r\n\r\n                        <Submenu submenuItems={getPlaylists(lists)} withNavLink={false} callback={changePlaylist}\r\n                                 switchIcon={'SelectList'} prompt={'Выбор из списка плейлистов'}\r\n                                 anchor={isStepperSubmenu} showButton={false} showSubmenu={setIsStepperSubmenu}/>\r\n                    </Paper>\r\n\r\n                    <Footer classes={classes} setIsDrawerOpen={setIsDrawerOpen}/>\r\n\r\n                </Container>\r\n            </LastPageContext.Provider>\r\n        </ThemeProvider>\r\n    );\r\n};\r\n\r\nexport default withRouter(App);\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nimport './index.css';\nimport {APP_ROOT} from './constants';\n\nReactDOM.render(\n    <BrowserRouter basename={APP_ROOT}>\n        <App/>\n    </BrowserRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}